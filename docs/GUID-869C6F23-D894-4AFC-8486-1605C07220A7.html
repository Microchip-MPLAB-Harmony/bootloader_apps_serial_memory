<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" data-whc_version="24.1">
    <head><link rel="shortcut icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><link rel="icon" href="oxygen-webhelp\template\resources/images/favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="This example application shows how to use the File System Bootloader Library to bootload an application from QSPI Flash memory (SST26) to Internal Flash. FS Serial Memory Bootloader Applications Block ..."/><meta name="copyright" content="(C) Copyright 2024"/><meta name="generator" content="DITA-OT"/><title>1.6 FS QSPI Flash Bootloader</title><!--  Generated with Oxygen version 24.1, build number 2022062014.  --><meta name="wh-path2root" content=""/><meta name="wh-toc-id" content="&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;&lt;?workdir /D:\InfoShare\Data\Publish\Data\jlvjxursrjt\work\temp?&gt;&lt;?workdir-uri file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/temp/?&gt;&lt;?path2project?&gt;&lt;?path2project-uri ./?&gt;&lt;?path2rootmap-uri ./?&gt;&lt;topic xmlns:dita-ot=&#34;http://dita-ot.sourceforge.net/ns/201007/dita-ot&#34; xmlns:ditaarch=&#34;http://dita.oasis-open.org/architecture/2005/&#34; class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; id=&#34;fs-qspi-flash-bootloader&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;topic:1;184:15&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;title:1;184:15&#34;&gt;FS QSPI Flash Bootloader&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;body:1;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:1;184:15&#34;&gt;This example application shows how to use the File System Bootloader Library to bootload an application from QSPI Flash memory (SST26) to Internal Flash.&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:2;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:1;184:15&#34;&gt;FS Serial Memory Bootloader Applications Block Diagram&lt;/b&gt;&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;GUID-81DD1F6E-ECB5-4CDD-9001-99798A630A92-low.png&#34; placement=&#34;break&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;image:1;184:15&#34; dita-ot:image-width=&#34;879&#34; dita-ot:image-height=&#34;525&#34; dita-ot:horizontal-dpi=&#34;96&#34; dita-ot:vertical-dpi=&#34;96&#34;&gt;&lt;alt class=&#34;- topic/alt &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;alt:1;184:15&#34;&gt;fs_serial_mem_btl_block_diagram&lt;/alt&gt;&lt;/image&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:3;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:2;184:15&#34;&gt;Bootloader Application&lt;/b&gt;&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;ul:1;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:1;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:4;184:15&#34;&gt;This is a File System based bootloader application which resides from&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;ul:2;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:2;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:5;184:15&#34;&gt;The starting location of the flash memory region for SAM devices&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:3;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:6;184:15&#34;&gt;The starting location of the Boot flash memory region for PIC32MZ devices&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;ul:3;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:4;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:7;184:15&#34;&gt;Uses a Custom linker script &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:3;184:15&#34;&gt;btl.ld&lt;/b&gt; to place it in Boot flash memory&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:5;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:8;184:15&#34;&gt;It uses the Harmony 3 File System Framework to read the application binary &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:4;184:15&#34;&gt;(image.bin)&lt;/b&gt; stored in &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:5;184:15&#34;&gt;QSPI Flash Memory&lt;/b&gt; and program it into &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:6;184:15&#34;&gt;Internal flash memory&lt;/b&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:6;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:9;184:15&#34;&gt;It glows an LED once bootloader firmware is running&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:7;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:10;184:15&#34;&gt;Trigger Methods&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;ul:4;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:8;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:11;184:15&#34;&gt;It uses the On board Switch OR a GPIO pin as bootloader trigger pin to force enter the bootloader at reset of device&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:9;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:12;184:15&#34;&gt;It checks for bootloader request pattern &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:7;184:15&#34;&gt;(0x5048434D)&lt;/b&gt; from the starting 16 Bytes of RAM to force enter bootloader at reset of device&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:13;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:8;184:15&#34;&gt;Programmer Application&lt;/b&gt;&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;ul:5;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:10;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:14;184:15&#34;&gt;This is a File system based QSPI Flash programmer application which resides from&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;ul:6;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:11;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:15;184:15&#34;&gt;The end of bootloader size in device flash memory for SAM devices&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:12;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:16;184:15&#34;&gt;The start of Program Flash memory for PIC32MZ devices&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:13;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:17;184:15&#34;&gt;It will be loaded into &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:9;184:15&#34;&gt;internal flash memory&lt;/b&gt; from &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:10;184:15&#34;&gt;QSPI Flash Memory&lt;/b&gt; by bootloader application&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:14;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:18;184:15&#34;&gt;Uses the Virtual Com port of the device (EDBG port or External USB to UART converters) to send console messages&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:19;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:11;184:15&#34;&gt;It Consist of three tasks&lt;/b&gt;&lt;/p&gt;&lt;ol class=&#34;- topic/ol &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;ol:1;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:15;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:20;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:12;184:15&#34;&gt;SDCARD_Tasks():&lt;/b&gt;&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;ul:7;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:16;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:21;184:15&#34;&gt;Receives the binary file &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:13;184:15&#34;&gt;image.bin&lt;/b&gt; to be copied into QSPI Flash from SD Card&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;ul:8;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:17;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:22;184:15&#34;&gt;As the application running in internal flash should have capability to copy new binary file to QSPI Flash memory, we copy the &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:14;184:15&#34;&gt;programmer application binary itself&lt;/b&gt; in QSPI Flash Memory&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:18;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:23;184:15&#34;&gt;Prints copying status on UART console&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:19;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:24;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:15;184:15&#34;&gt;SERIAL_MEM_Tasks():&lt;/b&gt;&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;ul:9;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:20;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:25;184:15&#34;&gt;Formats the QSPI Flash memory to &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:16;184:15&#34;&gt;FAT File System if not formatted&lt;/b&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:21;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:26;184:15&#34;&gt;Copies the binary file received by &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:17;184:15&#34;&gt;SDCARD_Tasks()&lt;/b&gt; to &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:18;184:15&#34;&gt;image.bin&lt;/b&gt; file in QSPI Flash Memory. The copied &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:19;184:15&#34;&gt;image.bin&lt;/b&gt; from QSPI Flash memory will be read by bootloader and programmed into internal flash&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:22;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:27;184:15&#34;&gt;Prints messages on UART console&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:23;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:28;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:20;184:15&#34;&gt;APP_MONITOR_Tasks():&lt;/b&gt;&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;ul:10;184:15&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:24;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:29;184:15&#34;&gt;Blinks an LED every 1 second&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:25;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:30;184:15&#34;&gt;Prints messages on UART console&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;li:26;184:15&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:31;184:15&#34;&gt;Uses On board Switch OR a GPIO pin to trigger bootloader once copying of image binary to QSPI Flash memory is complete&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p class=&#34;- topic/p &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;p:32;184:15&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md&#34; xtrc=&#34;b:21;184:15&#34;&gt;Development Kits&lt;/b&gt; The following table provides links to documentation on how to build and run File System based QSPI Flash bootloader on different development kits&lt;/p&gt;&lt;/body&gt;&lt;related-links class=&#34;- topic/related-links &#34;&gt;&lt;linkpool class=&#34;- topic/linkpool &#34; mapkeyref=&#34;GUID-A90310C8-3988-4253-82E5-63673BFD93C3&#34; xtrc=&#34;topicref:18;6:2757&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-A90310C8-3988-4253-82E5-63673BFD93C3.ditamap&#34;&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;GUID-47AB0512-9DCE-469D-91C9-7448A07AAAA7.md&#34; mapclass=&#34;- map/topicref &#34; role=&#34;parent&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:1;6:99&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-A90310C8-3988-4253-82E5-63673BFD93C3.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot gentext?&gt;MPLAB® Harmony 3 Serial Memory Bootloader Application Examples&lt;/linktext&gt;&lt;/link&gt;&lt;linkpool class=&#34;- topic/linkpool &#34; xtrc=&#34;topicref:18;6:2757&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-A90310C8-3988-4253-82E5-63673BFD93C3.ditamap&#34;&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;GUID-91FF64BD-84D4-43A7-BD5B-9554B5C144C7.md&#34; mapclass=&#34;- map/topicref &#34; role=&#34;child&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:19;6:2903&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-A90310C8-3988-4253-82E5-63673BFD93C3.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot gentext?&gt;Curiosity PIC32MZ EF 2.0 Development Board: Building and Running the File System based QSPI Flash Bootloader applications&lt;/linktext&gt;&lt;/link&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;GUID-57D92BCC-F8D0-4A58-86ED-43D6409EF49C.md&#34; mapclass=&#34;- map/topicref &#34; role=&#34;child&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:20;6:3060&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-A90310C8-3988-4253-82E5-63673BFD93C3.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot gentext?&gt;PIC32CZ CA80 Evaluation Board: Building and Running the File System based QSPI Flash Bootloader applications&lt;/linktext&gt;&lt;/link&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;GUID-DD735FDA-DB2B-4AA2-A212-0699B7339BA5.md&#34; mapclass=&#34;- map/topicref &#34; role=&#34;child&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:21;6:3217&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-A90310C8-3988-4253-82E5-63673BFD93C3.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot gentext?&gt;SAM E54 Xplained Pro Evaluation Kit: Building and Running the File System based QSPI Flash Bootloader applications&lt;/linktext&gt;&lt;/link&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;GUID-382EB464-0B96-4889-A7F7-77EDD2060DDB.md&#34; mapclass=&#34;- map/topicref &#34; role=&#34;child&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:22;6:3374&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-A90310C8-3988-4253-82E5-63673BFD93C3.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot gentext?&gt;SAM E70 Xplained Ultra Evaluation Kit: Building and Running the File System based QSPI Flash Bootloader applications&lt;/linktext&gt;&lt;/link&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;GUID-9555C050-5DAC-41C6-894C-8266DE47FB67.md&#34; mapclass=&#34;- map/topicref &#34; role=&#34;child&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:23;6:3531&#34; xtrf=&#34;file:/D:/InfoShare/Data/Publish/Data/jlvjxursrjt/work/1/en-US/GUID-A90310C8-3988-4253-82E5-63673BFD93C3.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot gentext?&gt;WBZ451 Curiosity Development Board: Building and Running the File System based QSPI Flash Bootloader applications&lt;/linktext&gt;&lt;/link&gt;&lt;/linkpool&gt;&lt;/linkpool&gt;&lt;/related-links&gt;&lt;/topic&gt;"/><meta name="wh-source-relpath" content="GUID-869C6F23-D894-4AFC-8486-1605C07220A7.md"/><meta name="wh-out-relpath" content="GUID-869C6F23-D894-4AFC-8486-1605C07220A7.html"/>
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css"/>
    
    <link rel="stylesheet" href="./oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css"/>
    
    <!-- Template default styles  -->
    <link rel="stylesheet" type="text/css" href="./oxygen-webhelp/app/topic-page.css?buildId=2022062014"/>
    
    
    <script src="./oxygen-webhelp/lib/jquery/jquery-3.5.1.min.js"></script>
    
    <script data-main="./oxygen-webhelp/app/topic-page.js" src="./oxygen-webhelp/lib/requirejs/require.js"></script>
<link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/microchip.css?buildId=2022062014"/><link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/notes.css?buildId=2022062014"/>
<script src="mchp-context-help.js"></script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet" type="text/css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async="" type="text/javascript"></script>
    <script src="https://assets.adobedtm.com/6a72a357eb48/a636c708c7fe/launch-0b0023397020.min.js"></script><!-- Adobe Analytics -->
</head>

    <body id="fs-qspi-flash-bootloader" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            Jump to main content
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="index.html" class=" wh_logo d-none d-sm-block "><img src="oxygen-webhelp\template\resources/images/microchip.png" alt="MPLAB® Harmony Bootloader Application Examples for Serial Memory "/></a>
                    <div class=" wh_publication_title "><a href="index.html">MPLAB® Harmony Bootloader Application Examples for Serial Memory </a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        </div>
    </div>
</header>
        
        
         
        
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="search.html"><div class="d-flex justify-contents-around"><div class="flex-grow-1"></div><div class="position-relative flex-grow-1"><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" required="required"/><button type="submit" class="wh_search_button" aria-label="Search"><span class="search_input_text">Search</span></button></div><div class="align-self-center flex-grow-1 ml-2"></div></div></form>
            
            <div class="mchp-color-stripe-grid-container">
  <div class="mchp-main-bar mchp-orange-bar"></div>
  <div class="mchp-main-bar mchp-blue-bar"></div>
  <div class="mchp-main-bar mchp-green-bar"></div>
</div>
            
        </div>
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="index.html"><span>Home</span></a></span></li><li><div class="topicref" data-id="mplab-harmony-3-serial-memory-bootloader-application-examples"><div class="title"><a href="GUID-47AB0512-9DCE-469D-91C9-7448A07AAAA7.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
MPLAB® Harmony 3 Serial Memory Bootloader Application Examples</a></div></div></li><li class="active"><div class="topicref" data-id="fs-qspi-flash-bootloader"><div class="title"><a href="GUID-869C6F23-D894-4AFC-8486-1605C07220A7.html"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.6</ph>
FS QSPI Flash Bootloader</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem" aria-expanded="true"><div data-tocid="mplab-harmony-3-serial-memory-bootloader-application-examples-d311e11" class="topicref" data-id="mplab-harmony-3-serial-memory-bootloader-application-examples" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action mplab-harmony-3-serial-memory-bootloader-application-examples-d311e11-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-47AB0512-9DCE-469D-91C9-7448A07AAAA7.html" id="mplab-harmony-3-serial-memory-bootloader-application-examples-d311e11-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1</ph>
MPLAB® Harmony 3 Serial Memory Bootloader Application Examples</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="i2c-eeprom-bootloader-d311e19" class="topicref" data-id="i2c-eeprom-bootloader" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action i2c-eeprom-bootloader-d311e19-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-2216EC1D-BD5B-4507-B798-FBDE45E7C643.html" id="i2c-eeprom-bootloader-d311e19-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.1</ph>
I2C EEPROM Bootloader</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="spi-eeprom-bootloader-d311e35" class="topicref" data-id="spi-eeprom-bootloader" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action spi-eeprom-bootloader-d311e35-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-64955939-41DC-4647-AD55-6298C9669EF7.html" id="spi-eeprom-bootloader-d311e35-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.2</ph>
SPI EEPROM Bootloader</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="spi-flash-bootloader-d311e59" class="topicref" data-id="spi-flash-bootloader" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action spi-flash-bootloader-d311e59-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-62C4D609-9D7F-4BEC-923E-5D077A2DECAB.html" id="spi-flash-bootloader-d311e59-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.3</ph>
SPI Flash Bootloader</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="qspi-flash-bootloader-d311e75" class="topicref" data-id="qspi-flash-bootloader" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action qspi-flash-bootloader-d311e75-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-F5FF216C-7DA2-4602-8A6C-38F2BF5385C9.html" id="qspi-flash-bootloader-d311e75-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.4</ph>
QSPI Flash Bootloader</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="fs-spi-flash-bootloader-d311e131" class="topicref" data-id="fs-spi-flash-bootloader" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action fs-spi-flash-bootloader-d311e131-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-77FFB0FC-3D3D-447E-81DD-2925914B6978.html" id="fs-spi-flash-bootloader-d311e131-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.5</ph>
FS SPI Flash Bootloader</a></div></div></li><li role="treeitem" aria-expanded="true" class="active"><div data-tocid="fs-qspi-flash-bootloader-d311e147" class="topicref" data-id="fs-qspi-flash-bootloader" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action fs-qspi-flash-bootloader-d311e147-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-869C6F23-D894-4AFC-8486-1605C07220A7.html" id="fs-qspi-flash-bootloader-d311e147-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.6</ph>
FS QSPI Flash Bootloader</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="curiosity-pic32mz-ef-20-development-board-building-and-running-the-file-system-based-qspi-flash-bootloader-applications-d311e155" class="topicref" data-id="curiosity-pic32mz-ef-20-development-board-building-and-running-the-file-system-based-qspi-flash-bootloader-applications" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-91FF64BD-84D4-43A7-BD5B-9554B5C144C7.html" id="curiosity-pic32mz-ef-20-development-board-building-and-running-the-file-system-based-qspi-flash-bootloader-applications-d311e155-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.6.1</ph>
Curiosity PIC32MZ EF 2.0 Development Board: Building and Running the File System based QSPI Flash Bootloader applications</a></div></div></li><li role="treeitem"><div data-tocid="pic32cz-ca80-evaluation-board-building-and-running-the-file-system-based-qspi-flash-bootloader-applications-d311e163" class="topicref" data-id="pic32cz-ca80-evaluation-board-building-and-running-the-file-system-based-qspi-flash-bootloader-applications" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-57D92BCC-F8D0-4A58-86ED-43D6409EF49C.html" id="pic32cz-ca80-evaluation-board-building-and-running-the-file-system-based-qspi-flash-bootloader-applications-d311e163-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.6.2</ph>
PIC32CZ CA80 Evaluation Board: Building and Running the File System based QSPI Flash Bootloader applications</a></div></div></li><li role="treeitem"><div data-tocid="sam-e54-xplained-pro-evaluation-kit-building-and-running-the-file-system-based-qspi-flash-bootloader-applications-d311e171" class="topicref" data-id="sam-e54-xplained-pro-evaluation-kit-building-and-running-the-file-system-based-qspi-flash-bootloader-applications" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-DD735FDA-DB2B-4AA2-A212-0699B7339BA5.html" id="sam-e54-xplained-pro-evaluation-kit-building-and-running-the-file-system-based-qspi-flash-bootloader-applications-d311e171-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.6.3</ph>
SAM E54 Xplained Pro Evaluation Kit: Building and Running the File System based QSPI Flash Bootloader applications</a></div></div></li><li role="treeitem"><div data-tocid="sam-e70-xplained-ultra-evaluation-kit-building-and-running-the-file-system-based-qspi-flash-bootloader-applications-d311e179" class="topicref" data-id="sam-e70-xplained-ultra-evaluation-kit-building-and-running-the-file-system-based-qspi-flash-bootloader-applications" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-382EB464-0B96-4889-A7F7-77EDD2060DDB.html" id="sam-e70-xplained-ultra-evaluation-kit-building-and-running-the-file-system-based-qspi-flash-bootloader-applications-d311e179-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.6.4</ph>
SAM E70 Xplained Ultra Evaluation Kit: Building and Running the File System based QSPI Flash Bootloader applications</a></div></div></li><li role="treeitem"><div data-tocid="wbz451-curiosity-development-board-building-and-running-the-file-system-based-qspi-flash-bootloader-applications-d311e187" class="topicref" data-id="wbz451-curiosity-development-board-building-and-running-the-file-system-based-qspi-flash-bootloader-applications" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="GUID-9555C050-5DAC-41C6-894C-8266DE47FB67.html" id="wbz451-curiosity-development-board-building-and-running-the-file-system-based-qspi-flash-bootloader-applications-d311e187-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.6.5</ph>
WBZ451 Curiosity Development Board: Building and Running the File System based QSPI Flash Bootloader applications</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="serial-memory-bootloader-tools-help-d311e195" class="topicref" data-id="serial-memory-bootloader-tools-help" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action serial-memory-bootloader-tools-help-d311e195-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-657F0952-46FA-48BA-A477-BC65244E683B.html" id="serial-memory-bootloader-tools-help-d311e195-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.7</ph>
Serial Memory Bootloader Tools Help</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="configuring-an-application-to-be-bootloaded-d311e211" class="topicref" data-id="configuring-an-application-to-be-bootloaded" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action configuring-an-application-to-be-bootloaded-d311e211-link" class="wh-expand-btn"></span><div class="title"><a href="GUID-12E6ED3F-4C6B-48C5-AF0A-E60E6A4B82AA.html" id="configuring-an-application-to-be-bootloaded-d311e211-link"><ph xmlns="http://www.oxygenxml.com/ns/webhelp/toc">1.8</ph>
Configuring an Application to be bootloaded</a></div></div></li></ul></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-9 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="ariaid-title1"><h1 class="- topic/title title topictitle1" id="ariaid-title1" style="">1.6 FS QSPI Flash Bootloader</h1><div class="- topic/body body"><p class="- topic/p p">This example application shows how to use the File System Bootloader Library to bootload an application from QSPI Flash memory (SST26) to Internal Flash.</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">FS Serial Memory Bootloader Applications Block Diagram</strong></p><div class=""><img class="- topic/image image break break" src="GUID-81DD1F6E-ECB5-4CDD-9001-99798A630A92-low.png" alt="fs_serial_mem_btl_block_diagram"/></div><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Bootloader Application</strong></p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">This is a File System based bootloader application which resides from</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">The starting location of the flash memory region for SAM devices</p></li><li class="- topic/li li"><p class="- topic/p p">The starting location of the Boot flash memory region for PIC32MZ devices</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Uses a Custom linker script <strong class="+ topic/ph hi-d/b ph b">btl.ld</strong> to place it in Boot flash memory</p></li></ul></li></ul></li><li class="- topic/li li"><p class="- topic/p p">It uses the Harmony 3 File System Framework to read the application binary <strong class="+ topic/ph hi-d/b ph b">(image.bin)</strong> stored in <strong class="+ topic/ph hi-d/b ph b">QSPI Flash Memory</strong> and program it into <strong class="+ topic/ph hi-d/b ph b">Internal flash memory</strong></p></li><li class="- topic/li li"><p class="- topic/p p">It glows an LED once bootloader firmware is running</p></li><li class="- topic/li li"><p class="- topic/p p">Trigger Methods</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">It uses the On board Switch OR a GPIO pin as bootloader trigger pin to force enter the bootloader at reset of device</p></li><li class="- topic/li li"><p class="- topic/p p">It checks for bootloader request pattern <strong class="+ topic/ph hi-d/b ph b">(0x5048434D)</strong> from the starting 16 Bytes of RAM to force enter bootloader at reset of device</p></li></ul></li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Programmer Application</strong></p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">This is a File system based QSPI Flash programmer application which resides from</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">The end of bootloader size in device flash memory for SAM devices</p></li><li class="- topic/li li"><p class="- topic/p p">The start of Program Flash memory for PIC32MZ devices</p></li></ul></li><li class="- topic/li li"><p class="- topic/p p">It will be loaded into <strong class="+ topic/ph hi-d/b ph b">internal flash memory</strong> from <strong class="+ topic/ph hi-d/b ph b">QSPI Flash Memory</strong> by bootloader application</p></li><li class="- topic/li li"><p class="- topic/p p">Uses the Virtual Com port of the device (EDBG port or External USB to UART converters) to send console messages</p></li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">It Consist of three tasks</strong></p><ol class="- topic/ol ol"><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">SDCARD_Tasks():</strong></p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Receives the binary file <strong class="+ topic/ph hi-d/b ph b">image.bin</strong> to be copied into QSPI Flash from SD Card</p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">As the application running in internal flash should have capability to copy new binary file to QSPI Flash memory, we copy the <strong class="+ topic/ph hi-d/b ph b">programmer application binary itself</strong> in QSPI Flash Memory</p></li></ul></li><li class="- topic/li li"><p class="- topic/p p">Prints copying status on UART console</p></li></ul></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">SERIAL_MEM_Tasks():</strong></p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Formats the QSPI Flash memory to <strong class="+ topic/ph hi-d/b ph b">FAT File System if not formatted</strong></p></li><li class="- topic/li li"><p class="- topic/p p">Copies the binary file received by <strong class="+ topic/ph hi-d/b ph b">SDCARD_Tasks()</strong> to <strong class="+ topic/ph hi-d/b ph b">image.bin</strong> file in QSPI Flash Memory. The copied <strong class="+ topic/ph hi-d/b ph b">image.bin</strong> from QSPI Flash memory will be read by bootloader and programmed into internal flash</p></li><li class="- topic/li li"><p class="- topic/p p">Prints messages on UART console</p></li></ul></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">APP_MONITOR_Tasks():</strong></p><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p">Blinks an LED every 1 second</p></li><li class="- topic/li li"><p class="- topic/p p">Prints messages on UART console</p></li><li class="- topic/li li"><p class="- topic/p p">Uses On board Switch OR a GPIO pin to trigger bootloader once copying of image binary to QSPI Flash memory is complete</p></li></ul></li></ol><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">Development Kits</strong>
The following table provides links to documentation on how to build and run File System based QSPI Flash bootloader on different development kits</p></div></article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                </div>
            </div>
            
            
            
        </div> 
        <div class="mchp_disclaimer"><p class="mchp_disclaimer_text">The online versions of the documents are provided as a courtesy. Verify all content and data in the device’s PDF documentation found on the device product page.</p></div><footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
    <div class="footer">
  <div class="mchp-wh-footer">
    <div class="mchp-footer">
      <div class="mchp-footer-tier1">
        <div class="spacer"></div>
        <div class="mchp-footer-container">
          <div class="mchp-footer-links mchp-social-media-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.facebook.com/pages/Microchip-Technology-Inc/20320981741" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Facebook" src="oxygen-webhelp/template/resources/images/201016-corp-facebook.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.linkedin.com/company/microchip-technology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip LinkedIn" src="oxygen-webhelp/template/resources/images/201016-corp-linkedin.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://twitter.com/MicrochipTech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Twitter" src="oxygen-webhelp/template/resources/images/201016-corp-twitter.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.youtube.com/user/MicrochipTechnology" target="_blank">
                  <img class="cmp-image__image" alt="Microchip YouTube" src="oxygen-webhelp/template/resources/images/201016-corp-youtube.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.instagram.com/microchiptechnologyinc/" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Instagram" src="oxygen-webhelp/template/resources/images/201016-corp-instagram.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.weibo.com/microchiptech" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Weibo" src="oxygen-webhelp/template/resources/images/201016-corp-weibo.png"/>
                </a>
              </div>
              <div class="mchp-component-item">
                <a class="cmp-image__link" href="https://www.microchip.com/en-us/about/blog" target="_blank">
                  <img class="cmp-image__image" alt="Microchip Blog" src="oxygen-webhelp/template/resources/images/201016-corp-blog.png"/>
                </a>
              </div>
            </div>
          </div>
          <div class="mchp-footer-links">
            <div class="mchp-component-items">
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://www.microchip.com/about-us/contact-us" class="mchp-link__link">Contact</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information" class="mchp-link__link">Legal</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/privacy-policy" class="mchp-link__link">Privacy Policy</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item ">
                <div class="link">
                  <a href="https://www.microchip.com/en-us/about/legal-information/microchip-cookie-statement" class="mchp-link__link">Cookies</a>
                  <span class="mchp-link__separator">|</span>
                </div>
              </div>
              <div class="mchp-component-item">
                <div class="link">
                  <a href="https://careers.microchip.com/" class="mchp-link__link">Careers</a>
                  <span class="mchp-link__separator"></span>
                </div>
              </div>
            </div>
          </div>
          <div class="mchp-footer-newsletter">
            <div class="cmp-text">
              <p>Stay on the leading edge with our blog</p>
            </div>
            <div class="mchp-button-wrapper">
              <a role="button" href="https://www.microchip.com/en-us/about/blog" class="mchp-button mchp-button-regular solid">
                <span class="mchp-button__span">MicroSolutions</span>
              </a>
            </div>
          </div>
        </div>
        <div class="graphic">
          <img src="oxygen-webhelp/template/resources/images/footer-graphic.png"/>
        </div>
      </div>
      <div class="mchp-footer-tier2">
        <p class="mchp-copyright">© Copyright 1998-2022 Microchip Technology Inc. All rights reserved.</p>
      </div>
    </div>
  </div>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-19"></script>
  <script>
    window.dataLayer = window.dataLayer || [];  
    function gtag(){dataLayer.push(arguments);}  
    gtag('js', new Date());   
    gtag('config', 'UA-2724382-19');
  </script>
  
  <script type="text/javascript">_satellite.pageBottom();</script><!-- Adobe Analytics -->
  
</div>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
       
        </body>
</html>